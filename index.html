<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>ğŸ£ Fishing Simulator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:url("https://images.unsplash.com/photo-1502082553048-f009c37129b9") center/cover no-repeat;
}
.overlay{background:rgba(0,0,0,.45);min-height:100vh;padding:12px}
.header{text-align:center;color:#fff;font-size:26px;font-weight:700;margin-bottom:12px}

.menu{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  max-width:420px;
  margin:0 auto;
}
.menu-btn{
  background:linear-gradient(#8b5a2b,#5c3a1e);
  border-radius:14px;
  padding:12px 6px;
  text-align:center;
  color:#fff;
  font-weight:600;
}
.menu-btn span{display:block;font-size:26px}

.screen{
  display:none;
  max-width:420px;
  margin:12px auto 0;
  background:#fff;
  border-radius:16px;
  padding:14px;
}
.screen.active{display:block}

button{
  width:100%;
  padding:14px;
  margin:6px 0;
  border:none;
  border-radius:14px;
  font-size:16px;
}
.primary{background:#ffd000;font-weight:700}
.gray{background:#eee}
.locked{background:#ddd;color:#888}
.ton{background:#7c5cff;color:#fff;font-weight:700}
</style>
</head>

<body>
<div class="overlay">

<div class="header">ğŸ£ Ğ Ğ˜Ğ‘ĞĞ›ĞšĞ</div>

<!-- ĞœĞ•ĞĞ® -->
<div class="menu">
  <div class="menu-btn" onclick="openScreen('fishing')"><span>ğŸ£</span>Ğ Ğ¸Ğ±Ğ°Ğ»ĞºĞ°</div>
  <div class="menu-btn" onclick="openScreen('inventory')"><span>ğŸ’</span>Ğ†Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€</div>
  <div class="menu-btn" onclick="openScreen('locations')"><span>ğŸ—º</span>Ğ›Ğ¾ĞºĞ°Ñ†Ñ–Ñ—</div>
  <div class="menu-btn" onclick="openScreen('shop')"><span>ğŸ›’</span>ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½</div>
  <div class="menu-btn" onclick="openScreen('stats')"><span>ğŸ“–</span>Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°</div>
  <div class="menu-btn" onclick="openScreen('menu')"><span>â¬…ï¸</span>ĞĞ°Ğ·Ğ°Ğ´</div>
</div>

<!-- Ğ Ğ˜Ğ‘ĞĞ›ĞšĞ -->
<div id="fishing" class="screen">
  <h3>ğŸ£ Ğ Ğ¸Ğ±Ğ°Ğ»ĞºĞ° â€” <span id="locName"></span></h3>
  <button class="primary" onclick="catchFish()">Ğ—Ğ°ĞºĞ¸Ğ½ÑƒÑ‚Ğ¸ Ğ²ÑƒĞ´ĞºÑƒ</button>
  <button class="gray" onclick="sellFish()">ğŸ’° ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ñ€Ğ¸Ğ±Ñƒ</button>
  <div id="catch"></div>
</div>

<!-- Ğ†ĞĞ’Ğ•ĞĞ¢ĞĞ  -->
<div id="inventory" class="screen">
  <h3>ğŸ’ Ğ†Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€</h3>
  <div id="inv"></div>
</div>

<!-- Ğ›ĞĞšĞĞ¦Ğ†Ğ‡ -->
<div id="locations" class="screen">
  <h3>ğŸ—º Ğ›Ğ¾ĞºĞ°Ñ†Ñ–Ñ—</h3>
  <div id="locList"></div>
</div>

<!-- ĞœĞĞ“ĞĞ—Ğ˜Ğ -->
<div id="shop" class="screen">
  <h3>ğŸ›’ ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½</h3>
  <h4>ğŸ£ Ğ’ÑƒĞ´ĞºĞ¸</h4>
  <div id="shopRods"></div>
  <h4>ğŸ§° Ğ¡Ğ½Ğ°ÑÑ‚Ñ–</h4>
  <div id="shopGear"></div>
</div>

<!-- Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ -->
<div id="stats" class="screen">
  <h3>ğŸ“– Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°</h3>
  <div id="statsText"></div>
</div>

</div>

<script>
/* ===== SAVE / LOAD ===== */
function loadGame(){
  const d=localStorage.getItem("fishingGame");
  return d?JSON.parse(d):null;
}
function saveGame(){
  localStorage.setItem("fishingGame",JSON.stringify(player));
}

/* ===== PLAYER ===== */
let player=loadGame()||{
  fish:{},
  coins:0,
  tons:0,
  level:1,
  location:0,
  rod:0,
  gear:{
    landingNet:false
  },
  lastTonCatch:0
};

/* ===== RODS ===== */
const rods=[
  {name:"Ğ¡Ñ‚Ğ°Ñ€Ğ° Ğ²ÑƒĞ´ĞºĞ°",power:1,price:0},
  {name:"Ğ”Ğ¾Ğ±Ñ€Ğ° Ğ²ÑƒĞ´ĞºĞ°",power:2,price:50},
  {name:"ĞŸÑ€Ğ¾Ñ„Ñ– Ğ²ÑƒĞ´ĞºĞ°",power:3,price:250},
  {name:"Ğ¢ÑƒÑ€Ğ±Ğ¾ Ğ²ÑƒĞ´ĞºĞ°",power:4,price:500},
  {name:"Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ° Ğ²ÑƒĞ´ĞºĞ°",power:5,tonPrice:15,legendary:true}
];

/* ===== GEAR ===== */
const gearItems=[
  {
    id:"landingNet",
    name:"ĞŸÑ–Ğ´ÑĞ°ĞºĞ°",
    tonPrice:5,
    tonBonus:0.05,
    desc:"+5% ÑˆĞ°Ğ½Ñ Ğ½Ğ° TON-Ñ€Ğ¸Ğ±Ñƒ"
  }
];

/* ===== LOCATIONS ===== */
const locations=[
  {name:"ğŸŒŠ ĞĞ·ĞµÑ€Ğ¾",level:1,fish:[
    {name:"ĞšĞ°Ñ€Ğ°ÑÑŒ",weight:10},
    {name:"ĞĞºÑƒĞ½ÑŒ",weight:9}
  ]},
  {name:"ğŸŒ¿ Ğ¡Ñ‚Ğ°Ğ²Ğ¾Ğº",level:3,fish:[
    {name:"Ğ›Ğ¸Ğ½",weight:8},
    {name:"ĞšĞ°Ñ€Ğ°ÑÑŒ Ğ²ĞµĞ»Ğ¸ĞºĞ¸Ğ¹",weight:7}
  ]},
  {name:"ğŸŒ… Ğ Ñ–Ñ‡ĞºĞ°",level:6,fish:[
    {name:"ĞšĞ¾Ñ€Ğ¾Ğ¿",weight:6},
    {name:"Ğ©ÑƒĞºĞ°",weight:5}
  ]},
  {name:"ğŸŒŒ ĞœĞ¾Ñ€Ğµ",level:10,fish:[
    {name:"Ğ¢ÑƒĞ½ĞµÑ†ÑŒ",weight:3},
    {name:"ĞœĞ°Ñ€Ğ»Ñ–Ğ½",weight:2}
  ]},
  {name:"ğŸŒŠ ĞĞºĞµĞ°Ğ½",level:15,fish:[
    {name:"ĞĞºÑƒĞ»Ğ°",weight:1}
  ]}
];

/* ===== NAV ===== */
function openScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  if(document.getElementById(id))document.getElementById(id).classList.add("active");
}

/* ===== CATCH ===== */
function catchFish(){
  const now=Date.now();
  const rod=rods[player.rod];

  let tonChance=0;
  if(rod.legendary) tonChance+=0.10;
  if(player.gear.landingNet) tonChance+=0.05;

  if(tonChance>0 && now-player.lastTonCatch>86400000){
    if(Math.random()<tonChance){
      player.lastTonCatch=now;
      player.fish["ğŸ’ TON-Ñ€Ğ¸Ğ±Ğ°"]=(player.fish["ğŸ’ TON-Ñ€Ğ¸Ğ±Ğ°"]||0)+1;
      document.getElementById("catch").innerText="ğŸ’ Ğ¡Ğ¿Ñ–Ğ¹Ğ¼Ğ°Ğ² TON-Ñ€Ğ¸Ğ±Ñƒ!";
      saveGame();render();return;
    }
  }

  const loc=locations[player.location];
  const index=Math.min(Math.floor(Math.random()*rod.power),loc.fish.length-1);
  const fish=loc.fish[index];
  player.fish[fish.name]=(player.fish[fish.name]||0)+1;
  document.getElementById("catch").innerText=`ğŸ£ Ğ¡Ğ¿Ñ–Ğ¹Ğ¼Ğ°Ğ²: ${fish.name}`;
  saveGame();render();
}

/* ===== SELL ===== */
function sellFish(){
  let coins=0,tons=0;
  for(let name in player.fish){
    let count=player.fish[name];
    if(name==="ğŸ’ TON-Ñ€Ğ¸Ğ±Ğ°"){tons+=count;continue;}
    for(let l of locations){
      let f=l.fish.find(x=>x.name===name);
      if(f) coins+=Math.floor(count/f.weight);
    }
  }
  player.coins+=coins;
  player.tons+=tons;
  player.fish={};
  if(player.coins>=player.level*10) player.level++;
  document.getElementById("catch").innerText=`ğŸ’° +${coins} ğŸª™ | ğŸ’ +${tons} TON`;
  saveGame();render();
}

/* ===== BUY ===== */
function buyRod(i){
  const r=rods[i];
  if(r.tonPrice){alert("ğŸ’ TON-Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡Ğ¸Ğ¼Ğ¾ Ğ¿Ñ–Ğ·Ğ½Ñ–ÑˆĞµ");return;}
  if(player.coins>=r.price){
    player.coins-=r.price;
    player.rod=i;
    saveGame();render();
  }
}
function buyGear(id){
  const g=gearItems.find(x=>x.id===id);
  if(player.tons>=g.tonPrice && !player.gear[id]){
    player.tons-=g.tonPrice;
    player.gear[id]=true;
    saveGame();render();
  }
}

/* ===== LOCATION ===== */
function changeLocation(i){
  if(player.level>=locations[i].level){
    player.location=i;
    openScreen("fishing");
    saveGame();render();
  }
}

/* ===== RENDER ===== */
function render(){
  document.getElementById("locName").innerText=locations[player.location].name;

  document.getElementById("inv").innerHTML=
    Object.keys(player.fish).length
      ? Object.entries(player.fish).map(([k,v])=>`${k}: ${v}`).join("<br>")
      : "ĞŸĞ¾Ñ€Ğ¾Ğ¶Ğ½ÑŒĞ¾";

  document.getElementById("locList").innerHTML=
    locations.map((l,i)=>
      player.level>=l.level
        ? `<button class="gray" onclick="changeLocation(${i})">${l.name}</button>`
        : `<button class="locked">${l.name} (lvl ${l.level})</button>`
    ).join("");

  document.getElementById("shopRods").innerHTML=
    rods.map((r,i)=>
      r.tonPrice
        ? `<button class="ton">ğŸ’ ${r.name} â€” ${r.tonPrice} TON</button>`
        : `<button class="gray" onclick="buyRod(${i})">${r.name} â€” ${r.price} ğŸª™</button>`
    ).join("");

  document.getElementById("shopGear").innerHTML=
    gearItems.map(g=>
      player.gear[g.id]
        ? `<button class="locked">âœ… ${g.name}</button>`
        : `<button class="ton" onclick="buyGear('${g.id}')">ğŸ’ ${g.name} â€” ${g.tonPrice} TON<br>${g.desc}</button>`
    ).join("");

  document.getElementById("statsText").innerHTML=
    `ğŸª™ ĞœĞ¾Ğ½ĞµÑ‚Ğ¸: ${player.coins}<br>
     ğŸ’ TON: ${player.tons}<br>
     â­ Ğ Ñ–Ğ²ĞµĞ½ÑŒ: ${player.level}<br>
     ğŸ£ Ğ’ÑƒĞ´ĞºĞ°: ${rods[player.rod].name}<br>
     ğŸ§° ĞŸÑ–Ğ´ÑĞ°ĞºĞ°: ${player.gear.landingNet?"Ğ¢Ğ°Ğº":"ĞÑ–"}<br>
     ğŸ“ Ğ›Ğ¾ĞºĞ°Ñ†Ñ–Ñ: ${locations[player.location].name}`;
}

render();
</script>
</body>
</html>
