<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>üé£ –†–∏–±–∞–ª–∫–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: linear-gradient(#1cb5e0, #000851);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.card {
  background: #fff;
  width: 95%;
  max-width: 420px;
  border-radius: 22px;
  padding: 18px;
}

h2 {
  text-align: center;
  margin-top: 0;
}

.stats {
  background: #f1f3f6;
  padding: 12px;
  border-radius: 14px;
  margin-bottom: 10px;
  font-size: 15px;
  text-align: center;
}

button {
  width: 100%;
  padding: 14px;
  margin: 6px 0;
  border: none;
  border-radius: 14px;
  font-size: 16px;
}

.primary { background: #ffd000; font-weight: 700; }
.gray { background: #eaeaea; }
.locked { background:#ddd; color:#888; }

.box {
  background: #f7f7f7;
  border-radius: 14px;
  padding: 10px;
  margin-top: 8px;
  font-size: 14px;
}
</style>
</head>

<body>

<div class="card">
  <h2>üé£ –†–∏–±–∞–ª–∫–∞</h2>

  <div class="stats" id="stats"></div>

  <button class="primary" onclick="catchFish()">üé£ –ó–∞–∫–∏–Ω—É—Ç–∏ –≤—É–¥–∫—É</button>
  <button class="gray" onclick="sellFish()">üí∞ –ü—Ä–æ–¥–∞—Ç–∏ –≤—Å—é —Ä–∏–±—É</button>

  <div class="box" id="catch"></div>
  <div class="box" id="inventory"></div>
  <div class="box" id="locations"></div>
</div>

<script>
let player = {
  fishBag: {},
  coins: 0,
  level: 1,
  location: 0
};

const locations = [
  {
    name: "üåä –û–∑–µ—Ä–æ",
    level: 1,
    fish: [
      { name: "–ö–∞—Ä–∞—Å—å", price: 1 },
      { name: "–û–∫—É–Ω—å", price: 2 }
    ]
  },
  {
    name: "üåÖ –†—ñ—á–∫–∞",
    level: 3,
    fish: [
      { name: "–ö–æ—Ä–æ–ø", price: 3 },
      { name: "–©—É–∫–∞", price: 6 }
    ]
  },
  {
    name: "üåå –ú–æ—Ä–µ",
    level: 6,
    fish: [
      { name: "–¢—É–Ω–µ—Ü—å", price: 10 },
      { name: "–ê–∫—É–ª–∞", price: 20 }
    ]
  }
];

function catchFish() {
  const loc = locations[player.location];
  const fish = loc.fish[Math.floor(Math.random() * loc.fish.length)];

  player.fishBag[fish.name] =
    (player.fishBag[fish.name] || 0) + 1;

  document.getElementById("catch").innerText =
    `üé£ –°–ø—ñ–π–º–∞–≤: ${fish.name} (+${fish.price}ü™ô)`;

  if (player.coins + totalFishValue() >= player.level * 10) {
    player.level++;
  }

  render();
}

function totalFishValue() {
  let sum = 0;
  for (let name in player.fishBag) {
    for (let loc of locations) {
      const f = loc.fish.find(x => x.name === name);
      if (f) sum += f.price * player.fishBag[name];
    }
  }
  return sum;
}

function sellFish() {
  let total = totalFishValue();
  player.coins += total;
  player.fishBag = {};

  document.getElementById("catch").innerText =
    total > 0
      ? `üí∞ –ü—Ä–æ–¥–∞–Ω–æ –Ω–∞ ${total} –º–æ–Ω–µ—Ç`
      : "‚ùå –ù–µ–º–∞—î —Ä–∏–±–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂—É";

  render();
}

function changeLocation(i) {
  if (player.level >= locations[i].level) {
    player.location = i;
    document.getElementById("catch").innerText =
      `üìç –õ–æ–∫–∞—Ü—ñ—è: ${locations[i].name}`;
    render();
  }
}

function render() {
  document.getElementById("stats").innerHTML =
    `ü™ô –ú–æ–Ω–µ—Ç–∏: <b>${player.coins}</b> | ‚≠ê –†—ñ–≤–µ–Ω—å: ${player.level} | üìç ${locations[player.location].name}`;

  const inv = Object.entries(player.fishBag);
  document.getElementById("inventory").innerHTML =
    `<b>üéí –†–∏–±–∞:</b><br>` +
    (inv.length
      ? inv.map(([k,v]) => `${k}: ${v}`).join("<br>")
      : "–ü–æ—Ä–æ–∂–Ω—å–æ");

  document.getElementById("locations").innerHTML =
    `<b>üó∫ –õ–æ–∫–∞—Ü—ñ—ó:</b><br>` +
    locations.map((l,i) =>
      player.level >= l.level
        ? `<button class="gray" onclick="changeLocation(${i})">${l.name}</button>`
        : `<button class="locked">${l.name} (lvl ${l.level})</button>`
    ).join("");
}

render();
</script>

</body>
</html>
